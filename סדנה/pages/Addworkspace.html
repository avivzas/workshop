<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add New Workspace</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 20px;
            text-align: center;
        }

        form {
            max-width: 400px;
            margin: 0 auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            text-align: left;
        }

        h2 {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #333;
            text-align: center;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: blue;
        }

        input, select, textarea {
            width: 100%;
            padding: 8px;
            margin-bottom: 12px;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        .rentalPriceGroup {
            display: none;
        }

        #picturesLabel {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: blue;
        }

        #pictureLogo {
            width: 50px;
            height: 50px;
            object-fit: cover;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin-bottom: 12px;
        }

        #error-message {
            color: red;
            margin-top: 10px;
        }

        button {
            background-color: #4caf50;
            color: #fff;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <form id="workspaceForm">
        <h2>Add New Workspace</h2>

        <label for="city">City:</label>
        <input type="text" id="city" name="city" oninput="validateLetters('city')" required>

        <label for="street">Street:</label>
        <input type="text" id="street" name="street" required>

        <label for="placeName">Name of the Place:</label>
        <input type="text" id="placeName" name="placeName" oninput="validateLetters('placeName')" required>

        <label for="placeType">Kind of Place:</label>
        <select id="placeType" name="placeType" required>
            <option value="office">Office</option>
            <option value="hangar">Hangar</option>
            <option value="workStation">Work Station</option>
        </select>

        <label for="rentalPeriod">Minimum Rental Period:</label>
        <select id="rentalPeriod" name="rentalPeriod" onchange="showRentalPriceField()" required>
            <option value="someDays">Some Days</option>
            <option value="weeks">Weeks</option>
            <option value="months">Months</option>
            <option value="years">Years</option>
        </select>

        <div id="dailyRentalPrice" class="rentalPriceGroup">
            <label for="dailyPrice">Daily Rental Price:</label>
            <input type="number" id="dailyPrice" name="dailyPrice" min="0" oninput="validateNumbers('dailyPrice')" required>
        </div>

        <div id="weeklyRentalPrice" class="rentalPriceGroup">
            <label for="weeklyPrice">Weekly Rental Price:</label>
            <input type="number" id="weeklyPrice" name="weeklyPrice" min="0" oninput="validateNumbers('weeklyPrice')" required>
        </div>

        <div id="monthlyRentalPrice" class="rentalPriceGroup">
            <label for="monthlyPrice">Monthly Rental Price:</label>
            <input type="number" id="monthlyPrice" name="monthlyPrice" min="0" oninput="validateNumbers('monthlyPrice')" required>
        </div>

        <div id="yearlyRentalPrice" class="rentalPriceGroup">
            <label for="yearlyPrice">Yearly Rental Price:</label>
            <input type="number" id="yearlyPrice" name="yearlyPrice" min="0" oninput="validateNumbers('yearlyPrice')" required>
        </div>

        <label for="phoneNumber">Phone Number:</label>
        <input type="tel" id="phoneNumber" name="phoneNumber" pattern="[0-9]+" title="Please enter only numbers" required>

        <label for="ownerName">Name of Property Owner:</label>
        <input type="text" id="ownerName" name="ownerName" oninput="validateLetters('ownerName')" required>

        <label id="picturesLabel" for="pictures">Add Pictures:</label>
        <img id="pictureLogo" src="/הורדות/Add_picture_file/Addpicture.png" alt="Picture Logo">
        <input type="file" id="pictures" name="pictures" accept="image/*" multiple>
       

        <label for="aboutWorkspace">About the Workspace:</label>
        <textarea id="aboutWorkspace" name="aboutWorkspace" rows="4"></textarea>

        <p id="error-message"></p>

        <button type="button" onclick="validateAndSubmit()">Add Workspace</button>
    </form>

    <script>
        function validateLetters(fieldId) {
            var field = document.getElementById(fieldId);
            var fieldValue = field.value;

            if (!/^[A-Za-z]+$/.test(fieldValue)) {
                alert("Please enter letters only.");
                field.value = fieldValue.replace(/[^A-Za-z]/g, '');
            }
        }

        function validateNumbers(fieldId) {
            var field = document.getElementById(fieldId);
            var fieldValue = field.value;

            if (!/^\d+$/.test(fieldValue)) {
                alert("Please enter numbers only.");
                field.value = fieldValue.replace(/\D/g, '');
            }
        }

        function showRentalPriceField() {
            var rentalPeriod = document.getElementById('rentalPeriod').value;

            // Hide all rental price groups
            document.querySelectorAll('.rentalPriceGroup').forEach(function(group) {
                group.style.display = 'none';
            });

            // Show the relevant rental price group based on the selected rental period
            if (rentalPeriod === 'someDays') {
                document.getElementById('dailyRentalPrice').style.display = 'block';
            } else if (rentalPeriod === 'weeks') {
                document.getElementById('weeklyRentalPrice').style.display = 'block';
            } else if (rentalPeriod === 'months') {
                document.getElementById('monthlyRentalPrice').style.display = 'block';
            } else if (rentalPeriod === 'years') {
                document.getElementById('yearlyRentalPrice').style.display = 'block';
            }
        }

        function validateAndSubmit() {
            var mandatoryFields = ["city", "street", "placeName", "placeType", "rentalPeriod", "phoneNumber", "ownerName"];
            var isValid = true;

            for (var i = 0; i < mandatoryFields.length; i++) {
                var field = document.getElementById(mandatoryFields[i]);

                if (!field.checkValidity()) {
                    isValid = false;
                    break;
                }
            }

            if (isValid) {
                // Form is valid, proceed with submission
                var formData = {
                    city: document.getElementById('city').value,
                    street: document.getElementById('street').value,
                    placeName: document.getElementById('placeName').value,
                    placeType: document.getElementById('placeType').value,
                    rentalPeriod: document.getElementById('rentalPeriod').value,
                    dailyPrice: document.getElementById('dailyPrice').value,
                    weeklyPrice: document.getElementById('weeklyPrice').value,
                    monthlyPrice: document.getElementById('monthlyPrice').value,
                    yearlyPrice: document.getElementById('yearlyPrice').value,
                    phoneNumber: document.getElementById('phoneNumber').value,
                    ownerName: document.getElementById('ownerName').value,
                    pictures: document.getElementById('pictures').files,
                    aboutWorkspace: document.getElementById('aboutWorkspace').value
                };

                console.log(formData);
                // You can further process the form data or send it to a server using AJAX.
            } else {
                // Display error message
                document.getElementById('error-message').textContent = "Please fill all the details.";
            }
        }
    </script>

</body>
</html>